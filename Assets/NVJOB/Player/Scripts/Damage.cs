// Infinity Square/Space. The prototype of the game is open source. V1.0
// https://github.com/nvjob/Infinity-Square-Space
// #NVJOB Nicholas Veselov
// https://nvjob.pro
// MIT license (see License_NVJOB.txt)



using UnityEngine.UI;
using UnityEngine;



public class Damage : MonoBehaviour
{
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////



    Image thisImage;
    float alpha;
    bool trigger0;



    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////



    void Awake()
    {
        //--------------

        thisImage = GetComponent<Image>();

        //--------------
    }

    

    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////



    void OnEnable()
    {
        //--------------

        trigger0 = false;
        alpha = 0;
        thisImage.color = new Color(1, 1, 1, alpha);

        //--------------
    }



    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////



    void LateUpdate()
    {
        //--------------

        if (trigger0 == false)
        {
            alpha += Time.deltaTime * 7;
            if (alpha >= 0.98f) trigger0 = true;
        }
        else
        {
            alpha -= Time.deltaTime * 0.8f;
            if (alpha <= 0.02f) transform.parent.gameObject.SetActive(false);
        }

        thisImage.color = new Color(1, 1, 1, alpha);

        //--------------
    }



    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
}
